(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{8076:(e,s,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/profile",function(){return l(3516)}])},3516:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>i});var a=l(4848),r=l(6540),t=l(6715),d=l(6844),n=l(9776);function i(){let e=(0,t.useRouter)(),{user:s,loading:l,updateProfile:i}=(0,d.Z)(),[u,m]=(0,r.useState)({}),[o,c]=(0,r.useState)(!1),[x,b]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(l||s){if(s){var a,r,t,d;m({full_name:(null===(a=s.user_metadata)||void 0===a?void 0:a.full_name)||"",avatar_url:(null===(r=s.user_metadata)||void 0===r?void 0:r.avatar_url)||"",phone_number:(null===(t=s.user_metadata)||void 0===t?void 0:t.phone_number)||"",bio:(null===(d=s.user_metadata)||void 0===d?void 0:d.bio)||""})}}else n.A.error("No authenticated user found"),e.push("/auth/login")},[s,l,e]);let v=async e=>{e.preventDefault(),b(null),f(!1),c(!0);try{await i(u),n.A.info("Profile updated successfully"),f(!0)}catch(e){n.A.error("Failed to update profile",e),b(e.message)}finally{c(!1)}};return l?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,a.jsx)("div",{className:"bg-white shadow sm:rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 mb-6",children:"Profile Settings"}),(0,a.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{type:"email",id:"email",value:(null==s?void 0:s.email)||"",disabled:!0,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md bg-gray-50"})}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Your email address cannot be changed."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{type:"text",id:"full_name",value:u.full_name||"",onChange:e=>m({...u,full_name:e.target.value}),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{type:"tel",id:"phone_number",value:u.phone_number||"",onChange:e=>m({...u,phone_number:e.target.value}),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"avatar_url",className:"block text-sm font-medium text-gray-700",children:"Avatar URL"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{type:"url",id:"avatar_url",value:u.avatar_url||"",onChange:e=>m({...u,avatar_url:e.target.value}),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("textarea",{id:"bio",rows:4,value:u.bio||"",onChange:e=>m({...u,bio:e.target.value}),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),h&&(0,a.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Profile updated successfully"})})})}),x&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:x})})})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"submit",disabled:o,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white ".concat(o?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),children:o?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"})})]})]})})})})}},6715:(e,s,l)=>{e.exports=l(4009)}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(8076)),_N_E=e.O()}]);